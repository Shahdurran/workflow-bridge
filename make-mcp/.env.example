# Make-MCP Configuration

# ===========================
# Server Mode Configuration
# ===========================

# Server mode: "stdio" for Claude Desktop, "http" for remote/production
MCP_MODE=stdio

# HTTP server port (only used when MCP_MODE=http)
PORT=3002

# Authentication token for HTTP mode (required when MCP_MODE=http)
AUTH_TOKEN=your-secret-token-here

# Base URL for the server (optional, used for generating webhook URLs)
BASE_URL=https://your-domain.com

# Session timeout in milliseconds (default: 30 minutes)
SESSION_TIMEOUT=1800000

# ===========================
# Logging Configuration
# ===========================

# Log level: debug, info, warn, error
LOG_LEVEL=info

# Disable console output (useful in stdio mode)
DISABLE_CONSOLE_OUTPUT=false

# ===========================
# Security Configuration
# ===========================

# SSRF Protection Mode: strict, moderate, permissive
# - strict: Block all private IPs and local networks
# - moderate: Allow some private IPs, block localhost
# - permissive: Allow most requests (development only)
WEBHOOK_SECURITY_MODE=strict

# Node environment
NODE_ENV=production

# ===========================
# Make.com API Configuration
# ===========================

# Make.com API base URL (region-specific)
# Examples:
#   - https://us1.make.com (US region)
#   - https://eu1.make.com (EU region)
#   - https://eu2.make.com (EU region)
MAKE_API_URL=https://us1.make.com

# Make.com API token (get from Make.com settings)
MAKE_API_TOKEN=your-make-api-token-here

# Make.com Organization ID (optional, get from Make.com)
MAKE_ORGANIZATION_ID=

# Make.com Team ID (optional, get from Make.com)
MAKE_TEAM_ID=

# ===========================
# Multi-Tenancy Configuration
# ===========================

# Note: For multi-tenant deployments, these can be overridden per-request
# using HTTP headers:
#   X-Make-URL: Custom Make.com API URL for this instance
#   X-Make-Token: Custom Make.com API token for this instance
#   X-Instance-ID: Unique instance identifier
#   X-Session-ID: Session identifier for tracking

# ===========================
# Database Configuration
# ===========================

# Database path (relative to project root)
DATABASE_PATH=./data/make-modules.db

# ===========================
# Template Service Configuration
# ===========================

# Template cache size (number of templates to cache)
TEMPLATE_CACHE_SIZE=100

# Template fetch timeout in milliseconds
TEMPLATE_FETCH_TIMEOUT=10000
